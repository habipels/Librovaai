{% extends 'frontend/base.html' %}
{% load static %}

{% block title %}Ana Sayfa - Librovaai{% endblock %}

{% block content %}

<!-- Hero Section -->
<div class="hero-section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 80px 0;">
    <div class="container text-center">
        <h1 style="font-size: 48px; margin-bottom: 20px;">
            <i class="fa fa-book"></i> Librovaai'ye Hoş Geldiniz
        </h1>
        <p class="lead" style="font-size: 24px; margin-bottom: 30px;">
            AI Destekli Dijital Kitap Platformu
        </p>
        <p style="font-size: 18px; margin-bottom: 40px;">
            Binlerce kitaba erişin, AI özetleri okuyun ve bilgi dünyanızı genişletin
        </p>
        <a href="{% url 'books_list' %}" class="btn btn-light btn-lg" style="margin-right: 10px;">
            <i class="fa fa-search"></i> Kitapları Keşfet
        </a>
        {% if not user.is_authenticated %}
        <a href="{% url 'register' %}" class="btn btn-outline-light btn-lg">
            <i class="fa fa-user-plus"></i> Ücretsiz Kayıt Ol
        </a>
        {% endif %}
    </div>
</div>

<!-- Featured Books -->
<div class="container" style="margin-top: 50px; margin-bottom: 50px;">
    <div class="row">
        <div class="col-md-12">
            <h2>
                <i class="fa fa-star text-warning"></i> Öne Çıkan Kitaplar
            </h2>
            <hr>
        </div>
    </div>

    <div class="row">
        {% for book in featured_books %}
        <div class="col-md-2 col-sm-4 col-xs-6">
            <div class="book-card" style="text-align: center; margin-bottom: 30px;">
                <a href="{% url 'book_detail' book.slug %}">
                    <img src="{{ book.cover_image.url }}" alt="{{ book.title }}" 
                         class="img-responsive" style="width: 100%; border-radius: 5px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                </a>
                <h5 style="margin-top: 10px;">
                    <a href="{% url 'book_detail' book.slug %}">{{ book.title|truncatewords:4 }}</a>
                </h5>
                <p class="text-muted" style="font-size: 12px;">{{ book.author.username }}</p>
            </div>
        </div>
        {% empty %}
        <div class="col-md-12">
            <div class="alert alert-info">
                <i class="fa fa-info-circle"></i> Henüz kitap eklenmemiş.
            </div>
        </div>
        {% endfor %}
    </div>

    {% if featured_books %}
    <div class="row">
        <div class="col-md-12 text-center">
            <a href="{% url 'books_list' %}" class="btn btn-primary btn-lg">
                <i class="fa fa-list"></i> Tüm Kitapları Görüntüle
            </a>
        </div>
    </div>
    {% endif %}
</div>

<!-- Features Section -->
<div style="background: #f8f9fa; padding: 60px 0;">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center">
                <h2>Neden Librovaai?</h2>
                <p class="lead">Modern teknoloji ile zenginleştirilmiş okuma deneyimi</p>
                <hr style="width: 100px; border-top: 3px solid #667eea; margin: 20px auto;">
            </div>
        </div>

        <div class="row" style="margin-top: 40px;">
            <div class="col-md-3 text-center">
                <div style="font-size: 60px; color: #667eea; margin-bottom: 20px;">
                    <i class="fa fa-magic"></i>
                </div>
                <h4>AI Özet</h4>
                <p>Her kitap için yapay zeka destekli özetler</p>
            </div>

            <div class="col-md-3 text-center">
                <div style="font-size: 60px; color: #667eea; margin-bottom: 20px;">
                    <i class="fa fa-list"></i>
                </div>
                <h4>İçindekiler</h4>
                <p>Otomatik oluşturulan detaylı içindekiler</p>
            </div>

            <div class="col-md-3 text-center">
                <div style="font-size: 60px; color: #667eea; margin-bottom: 20px;">
                    <i class="fa fa-bookmark"></i>
                </div>
                <h4>Yer İmleri</h4>
                <p>Kaldığınız yerden devam edin</p>
            </div>

            <div class="col-md-3 text-center">
                <div style="font-size: 60px; color: #667eea; margin-bottom: 20px;">
                    <i class="fa fa-line-chart"></i>
                </div>
                <h4>İlerleme Takibi</h4>
                <p>Okuma ilerlemenizi izleyin</p>
            </div>
        </div>
    </div>
</div>

<!-- Recent Books -->
<div class="container" style="margin-top: 50px; margin-bottom: 50px;">
    <div class="row">
        <div class="col-md-12">
            <h2>
                <i class="fa fa-clock-o text-primary"></i> Son Eklenen Kitaplar
            </h2>
            <hr>
        </div>
    </div>

    <div class="row">
        {% for book in recent_books %}
        <div class="col-md-3 col-sm-6">
            <div class="book-card" style="margin-bottom: 30px; border: 1px solid #ddd; border-radius: 5px; padding: 15px;">
                <a href="{% url 'book_detail' book.slug %}">
                    <img src="{{ book.cover_image.url }}" alt="{{ book.title }}" 
                         class="img-responsive" style="width: 100%; border-radius: 5px;">
                </a>
                <h4 style="margin-top: 15px; height: 50px; overflow: hidden;">
                    <a href="{% url 'book_detail' book.slug %}">{{ book.title|truncatewords:6 }}</a>
                </h4>
                <p class="text-muted">
                    <i class="fa fa-user"></i> {{ book.author.username }}
                </p>
                <p>
                    <i class="fa fa-eye"></i> {{ book.view_count }} görüntülenme
                </p>
                {% if book.categories.all %}
                <p>
                    {% for cat in book.categories.all|slice:":2" %}
                        <span class="label label-default">{{ cat.name }}</span>
                    {% endfor %}
                </p>
                {% endif %}
            </div>
        </div>
        {% empty %}
        <div class="col-md-12">
            <div class="alert alert-info">
                <i class="fa fa-info-circle"></i> Henüz kitap eklenmemiş.
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Categories -->
<div style="background: #f8f9fa; padding: 60px 0;">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center">
                <h2><i class="fa fa-tags"></i> Kategoriler</h2>
                <hr style="width: 100px; border-top: 3px solid #667eea; margin: 20px auto;">
            </div>
        </div>

        <div class="row" style="margin-top: 30px;">
            {% for category in categories %}
            <div class="col-md-2 col-sm-4 col-xs-6" style="margin-bottom: 20px;">
                <a href="{% url 'category_detail' category.slug %}" 
                   class="btn btn-default btn-block" 
                   style="padding: 15px; font-size: 16px;">
                    <i class="fa fa-folder"></i> {{ category.name }}
                </a>
            </div>
            {% endfor %}
        </div>

        {% if categories %}
        <div class="row" style="margin-top: 20px;">
            <div class="col-md-12 text-center">
                <a href="{% url 'categories_list' %}" class="btn btn-primary">
                    <i class="fa fa-list"></i> Tüm Kategoriler
                </a>
            </div>
        </div>
        {% endif %}
    </div>
</div>

<!-- CTA Section -->
{% if not user.is_authenticated %}
<div class="container" style="margin: 60px auto;">
    <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <div class="well text-center" style="background: #667eea; color: white; padding: 40px; border: none;">
                <h2>Hemen Başlayın!</h2>
                <p style="font-size: 18px;">
                    Ücretsiz kayıt olun ve binlerce kitaba erişim sağlayın
                </p>
                <a href="{% url 'register' %}" class="btn btn-light btn-lg">
                    <i class="fa fa-user-plus"></i> Ücretsiz Kayıt Ol
                </a>
            </div>
        </div>
    </div>
</div>
{% endif %}

{% endblock %}
